<div class="main-container bg-white p-8 max-w-3xl mx-auto rounded-lg shadow-lg" *ngIf="user">
    <!-- Profile Section -->
    <div class="profile-info flex items-center mb-6">
        <div class="profile-avatar mr-6">
            <img [src]="user.photo" alt="User Avatar" class="w-20 h-20 rounded-full">
        </div>
        <div>
            <h2 class="text-2xl font-semibold text-blue-900">Welcome to , {{ user.name }} {{ user.first_name }}</h2>
        </div>
    </div>

    <!-- Tab Navigation -->
    <div class="nav-links flex gap-6 border-b-2 border-gray-200 pb-3 mb-6">
        <a href="javascript:void(0)" [class.active]="currentTab === 'details'" 
           (click)="setCurrentTab('details')" 
           class="text-blue-900 font-semibold hover:underline"
           [ngClass]="{'text-blue-600': currentTab === 'details'}">User Details</a>
        <a href="javascript:void(0)" [class.active]="currentTab === 'offers'" 
           (click)="setCurrentTab('offers')" 
           class="text-blue-900 font-semibold hover:underline"
           [ngClass]="{'text-blue-600': currentTab === 'offers'}">Car Offers</a>
        <a href="javascript:void(0)" [class.active]="currentTab === 'reservations'" 
           (click)="setCurrentTab('reservations')" 
           class="text-blue-900 font-semibold hover:underline"
           [ngClass]="{'text-blue-600': currentTab === 'reservations'}">Reservations</a>
    </div>

    <!-- User Details Section -->
    <div *ngIf="currentTab === 'details'" class="section-content mt-6">
        <div>
            <p class="info-text text-gray-700"><strong>First Name:</strong> {{ user.first_name }}</p>
            <p class="info-text text-gray-700"><strong>Last Name:</strong> {{ user.name }}</p>
            <p class="info-text text-gray-700"><strong>Email Address:</strong> {{ user.email }}</p>
            <p class="info-text text-gray-700"><strong>Phone:</strong> {{ user.phone_number }}</p>
            <p class="info-text text-gray-700"><strong>Roles:</strong> User</p>
            <p class="info-text text-gray-700"><strong>Gender:</strong> {{ user.Gender == "m" ? "Male" : "Female" }}</p>
            <p class="info-text text-gray-700"><strong>Birthdate:</strong> {{ user.birthdate }}</p>
            <p class="info-text text-gray-700"><strong>City:</strong> {{ user.city }}</p>
            <p class="info-text text-gray-700"><strong>Created At:</strong> {{ user.createdAt }}</p>
            <p class="info-text text-gray-700"><strong>Updated At:</strong> {{ user.updatedAt }}</p>
            <p class="info-text text-gray-700"><strong>Username:</strong> {{ user.username }}</p>
            <p class="info-text text-gray-700"><strong>Smoker:</strong> {{ user.isSmoker }}</p>
            <p class="info-text text-gray-700" *ngIf="user.photo"><strong>Photo:</strong> {{ user.photo }}</p>
        </div>

        <h3 class="text-xl font-bold text-blue-500 mb-2 mt-6">Last Update</h3>
        <ul class="list-none p-4 bg-blue-50 rounded-lg text-gray-800">
            <li>{{ user.updatedAt }}</li>
        </ul>
    </div>

    <!-- Car Offers Section -->
    <div *ngIf="currentTab === 'offers'" class="section-content mt-6">
        <h3 class="text-blue-900 font-semibold mb-4">User Offers</h3>
        <ul class="space-y-4">
            <li *ngFor="let offer of offers" class="p-4 bg-gray-100 rounded-lg shadow">
                <p class="text-lg font-semibold text-blue-900">{{ offer.start_point }} to {{ offer.destination }}</p>
                <p class="text-gray-700"><strong>Trip Date:</strong> {{ offer.trip_date }}</p>
                <p class="text-gray-700"><strong>Start Time:</strong> {{ offer.startTime }}</p>
                <p class="text-gray-700"><strong>Places Available:</strong> {{ offer.places }}</p>
                <p class="text-gray-700"><strong>Price:</strong> ${{ offer.price }}</p>
                <p class="text-gray-700"><strong>Smoking Allowed:</strong> {{ offer.isSmokingAllowed ? 'Yes' : 'No' }}</p>
                <p class="text-gray-500 text-sm"><strong>Created At:</strong> {{ offer.createdAt }}</p>
                <p class="text-gray-500 text-sm"><strong>Last Updated:</strong> {{ offer.updatedAt }}</p>
                <p *ngIf="isOfferComplete(offer)" class="text-red-500 font-semibold mt-2">
                    Offer Complete
                </p>
            </li>
        </ul>
    </div>
    

    <!-- Reservations Section -->
    <div *ngIf="currentTab === 'reservations'" class="section-content mt-6">
        <h3 class="text-blue-900 font-semibold mb-4">User Reservations</h3>
        <ul class="space-y-4">
            <li *ngFor="let reservation of reservations" class="p-4 bg-gray-100 rounded-lg shadow">
                <p class="text-lg font-semibold text-blue-900">{{ reservation.trip_offer.start_point }} to {{ reservation.trip_offer.destination }}</p>
                <p class="text-gray-700"><strong>Reservation Date:</strong> {{ reservation.reservation_date | date:'short' }}</p>
                <p class="text-gray-700"><strong>Seats Reserved:</strong> {{ reservation.reservation_seats }}</p>
                <p class="text-gray-700"><strong>Status:</strong> {{ reservation.status ? 'Confirmed' : 'Pending' }}</p>
                <p class="text-gray-700"><strong>Total Price:</strong> ${{ reservation.total_price }}</p>
                <p class="text-gray-700"><strong>Trip Date:</strong> {{ reservation.trip_offer.trip_date | date:'short' }}</p>
                <p class="text-gray-700"><strong>Start Time:</strong> {{ reservation.trip_offer.startTime }}</p>
                <p class="text-gray-700"><strong>Places Available:</strong> {{ reservation.trip_offer.places }}</p>
                <p class="text-gray-700"><strong>Smoking Allowed:</strong> {{ reservation.trip_offer.isSmokingAllowed ? 'Yes' : 'No' }}</p>
                <p class="text-gray-500 text-sm"><strong>Created At:</strong> {{ reservation.createdAt | date:'short' }}</p>
                <p class="text-gray-500 text-sm"><strong>Last Updated:</strong> {{ reservation.updatedAt | date:'short' }}</p>
                
            </li>
        </ul>
        
    </div>
    <button (click)="navigateToUserManagement()" class="mt-3 px-4 py-2 bg-blue-600 text-white font-semibold rounded-md hover:bg-blue-700 transition-colors duration-300">
        Return
      </button>
    
</div>
